"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function filterValidNavSubItems(e){return e.type!==NavBarHeader}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},_createClass=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_get=function(e,t,a){for(var n=!0;n;){var r=e,l=t,i=a;n=!1,null===r&&(r=Function.prototype);var o=Object.getOwnPropertyDescriptor(r,l);if(void 0!==o){if("value"in o)return o.value;var c=o.get;if(void 0===c)return;return c.call(i)}var s=Object.getPrototypeOf(r);if(null===s)return;e=s,t=l,a=i,n=!0,o=s=void 0}},_react=require("react"),_react2=_interopRequireDefault(_react),NavBarForm=function(e){return _react2["default"].createElement("form",{onSubmit:function(e){return e.preventDefault()},className:"navbar-form "+(e.pullLeft?" pull-left ":"")+(e.pullRight?" pull-right ":"")},e.children)},NavBarBrand=function(e){return _react2["default"].cloneElement(e.children,{className:"navbar-brand"})},NavBarToggle=function(e){return _react2["default"].createElement("button",_extends({},e,{type:"button",className:"navbar-toggle collapsed"}),_react2["default"].createElement("span",{className:"sr-only"},"Toggle navigation"),_react2["default"].createElement("span",{className:"icon-bar"}),_react2["default"].createElement("span",{className:"icon-bar"}),_react2["default"].createElement("span",{className:"icon-bar"}))},cloneHeaderItem=function(e,t){var a="item"+t+"}";return e.type===NavBarToggle?a="toggle":e.type===NavBarBrand&&(a="header-toggle"),_react2["default"].cloneElement(e,{key:a})},NavBarHeader=function(e){return _react2["default"].createElement("div",{className:"navbar-header"},e.children.map(cloneHeaderItem))},NavBarItem=function(e){return _react2["default"].createElement("li",{active:e.active},_react2["default"].createElement("a",{href:e.href},e.children))},NavBarDropdown=function(e){function t(){var e=this;_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.state={open:!1},this.handleOutsideClick=function(t){var a=t.target;do if(a.classList&&a.classList.contains("dropdown-toggle"))return;while(a=a.parentNode);e.setState({open:!1})},document.addEventListener("click",this.handleOutsideClick)}return _inherits(t,e),_createClass(t,[{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleOutsideClick)}},{key:"toggle",value:function(){this.setState({open:!this.state.open})}},{key:"render",value:function(){var e=this,t=this.props;return _react2["default"].createElement("li",{className:"dropdown "+(this.state.open?"open":"")},_react2["default"].createElement("a",_extends({className:"dropdown-toggle",onClick:function(){return e.toggle()}},t),t.text," ",_react2["default"].createElement("span",{className:"caret"})),_react2["default"].createElement("ul",{className:"dropdown-menu"},t.children))}}]),t}(_react2["default"].Component),Nav=function(e){return _react2["default"].createElement("ul",_extends({},e,{className:"nav navbar-nav"}),e.children)},NavBar=function(e){function t(){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.state={collapsed:!0,heightExpanded:!1,collapseHeight:null}}return _inherits(t,e),_createClass(t,[{key:"toggleMobileCollapse",value:function(e){var t=this;if(this._pendingAnimationClear&&(clearTimeout(this._pendingAnimationClear),this._pendingAnimationClear=null),this.state.expanded||this.state.expanding)this.setState({collapsing:!0,collapseHeight:null,expanding:!1,expanded:!1}),this._pendingAnimationClear=setTimeout(function(){t.setState({collapsing:!1,collapseHeight:null}),t._cachedHeight=null},300);else{if(!this._cachedHeight){for(var a=e.target,n=void 0;a=a.parentNode;)if(console.log("TICK"),"DIV"===a.tagName){n=a.nextSibling;break}n.classList.add("in");var r=n.offsetHeight;n.classList.remove("in"),this._cachedHeight=r}this.setState({collapsing:!0,expanding:!0}),setTimeout(function(){return t.setState({collapseHeight:t._cachedHeight})},2),this._pendingAnimationClear=setTimeout(function(){return t.setState({collapsing:!1,expanded:!0,expanding:!1})},300)}}},{key:"render",value:function(){var e=this.props.children.find(function(e){return e.type===NavBarHeader}),t=e?e.props.children.find(function(e){return e.type===NavBarToggle}):null,a=t?e.props.children.indexOf(t):-1,n=this.props.children.filter(filterValidNavSubItems).map(function(e,t){return _react2["default"].cloneElement(e,{key:"item"+t})});return a>=0&&(e.props.children[a]=_react2["default"].cloneElement(t,{onClick:this.toggleMobileCollapse.bind(this)})),_react2["default"].createElement("nav",{className:"navbar navbar-default"},_react2["default"].createElement("div",{className:"container-fluid"},e||null,_react2["default"].createElement("div",{className:(this.state.collapsing?" collapsing ":" collapse ")+" navbar-collapse "+(this.state.expanded?" in ":""),style:{height:this.state.collapseHeight||null}},n)))}}]),t}(_react2["default"].Component);NavBar.Nav=Nav,NavBar.Item=NavBarItem,NavBar.Header=NavBarHeader,NavBar.Brand=NavBarBrand,NavBar.Toggle=NavBarToggle,NavBar.Dropdown=NavBarDropdown,NavBar.Form=NavBarForm,exports["default"]=NavBar,module.exports=exports["default"];